# [source/Simulation/SimulationMain/Relaxation]

# names of files
basenm		= "relaxation_"
log_file	= "relaxation.log"

# physical domain (sine wave period = ((xmax-xmin)/clight))
geometry = "cartesian"
xmin = 0.0
xmax = 1.0e+5
ymin = 0.0
ymax = 1.0e+5
zmin = 0.0
zmax = 1.0e+5

# boundary conditions
xl_boundary_type = "periodic"
xr_boundary_type = "periodic"
yl_boundary_type = "periodic"
yr_boundary_type = "periodic"
zl_boundary_type = "periodic"
zr_boundary_type = "periodic"

# refinement
nblockx = 1
nblocky = 1
nblockz = 1

lrefine_max = 1
lrefine_min = 1

# go for nend steps or tmax seconds, whichever comes first
nend = 4000
tmax = 0.1

# timestep
dtinit	= 1.0e-7
dtmax	= 1.0e-2
dtmin	= 1.0e-7

tstep_change_factor = 1.04

# checkpoint/plot files
restart = .false.

checkpointFileNumber = 0
plotFileNumber = 0

checkpointFileIntervalStep = 1
#checkpointFileIntervalTime = 1.0E-3

plotFileIntervalStep = 1

ignoreForcedPlot = .false.

plot_var_1 = "dens"
plot_var_2 = "eint"
plot_var_3 = "velx"
plot_var_4 = "vely"
plot_var_5 = "velz"
plot_var_6 = "ye  "
plot_var_7 = "T001"
plot_var_8 = "T002"

# eos options
eos_file	= "wl-EOS-SFHo-15-25-50.h5"
eosMode		= "dens_ie"
eosModeInit	= "dens_temp"
eintSwitch	= 1.e-4

# hydro options
useHydro = .false.

# radiation transport
useRadTrans = .true.

rt_doExplicit = .false.
rt_doImplicit = .true.

rt_positivityLimiter	= .true.
rt_UpperBry1		= 1.0e100  # 1.0e0 for CB closure, 1.0e100 for MI closure

rt_slopeLimiter = .false.

rt_eL	= 0.0
rt_eR	= 300.0
rt_zoomE= 1.266038160710160
rt_bcE	= 0

# collision solver parameters
rt_M_outer		= 3
rt_M_inner		= 2
rt_MaxIter_outer	= 100
rt_MaxIter_inner	= 100
rt_Rtol_outer		= 1.0e-8
rt_Rtol_inner		= 1.0e-8
rt_Include_LinCorr 	= .false.

# neutrino-opacity options
# weaklib opacity tables can be downloaded from
# https://code.ornl.gov/astro/weaklib-tables
rt_use_emab	= .true.
rt_emab_file	= "wl-Op-SFHo-15-25-50-E40-B85-AbEm.h5"
rt_use_iso	= .true.
rt_iso_file	= "wl-Op-SFHo-15-25-50-E40-B85-Iso.h5"
rt_use_nes	= .true.
rt_nes_file	= "wl-Op-SFHo-15-25-50-E40-B85-NES.h5"
rt_use_pair	= .true.
rt_pair_file	= "wl-Op-SFHo-15-25-50-E40-B85-Pair.h5"
rt_use_brem	= .true.
rt_brem_file	= "wl-Op-SFHo-15-25-50-E40-HR98-Brem.h5"

# relaxation parameters
sim_rad_option = 4

# initial conditions
sim_dens_i	= 1.032e+12
sim_temp_i	= 8.805499114189885e+10
sim_ye_i	= 0.1347
sim_velx_i	= 2.99792458e+9 # 0.1c
sim_vely_i	= 0.0
sim_velz_i	= 0.0
sim_mu_i	= 0.0

# initial profile
sim_use_model	= .false.
#sim_model_file	= "Chimera_S25+100ms_h"
#sim_rintSwitch	= 1.0e9 # cm, valid only when sim_rad_option = 0
